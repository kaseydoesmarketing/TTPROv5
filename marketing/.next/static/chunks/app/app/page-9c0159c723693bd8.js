(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[191],{7407:function(e,s,t){Promise.resolve().then(t.bind(t,4467))},4467:function(e,s,t){"use strict";let a;t.r(s),t.d(s,{default:function(){return $}});var n=t(7437),r=t(2265),i=t(2148),l=t(738),o=t(257);function c(e){return(null!=e?e:"").trim().replace(/\s+/g,"")}function d(e,s){if(!s||""===s.trim())throw Error("Missing required environment variable: ".concat(e));return c(s)}try{a={apiKey:d("NEXT_PUBLIC_FIREBASE_API_KEY",o.env.NEXT_PUBLIC_FIREBASE_API_KEY),authDomain:d("NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN",o.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN),projectId:d("NEXT_PUBLIC_FIREBASE_PROJECT_ID",o.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID),appId:c(o.env.NEXT_PUBLIC_FIREBASE_APP_ID),messagingSenderId:c(o.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID)};let e="titletesterpro";if(a.projectId!==e)throw console.error("❌ Firebase project mismatch: got '".concat(a.projectId,"', expected '").concat(e,"'")),Error("Firebase project ID mismatch: expected '".concat(e,"', got '").concat(a.projectId,"'"));console.log("✅ Firebase configuration validated successfully")}catch(e){console.error("❌ Firebase configuration validation failed:",e),a={apiKey:"missing-api-key",authDomain:"missing.firebaseapp.com",projectId:"missing-project",appId:"missing-app-id",messagingSenderId:"000000000000"},console.warn("⚠️ Using fallback Firebase configuration - authentication will fail")}let u=(0,l.C6)().length?(0,l.C6)()[0]:(0,l.ZF)(a),x=(0,i.v0)(u),h=new i.hJ;h.addScope("https://www.googleapis.com/auth/youtube.readonly");let m=async()=>{try{return(await (0,i.rh)(x,h)).user}catch(e){throw console.error("Error signing in with Google:",e),e}},p=async()=>{try{await (0,i.w7)(x)}catch(e){throw console.error("Error signing out:",e),e}},g=async()=>{console.log("\uD83D\uDD0D STARTING FIREBASE AUTHENTICATION"),console.log("==================================="),console.log("Auth instance:",x?"✅ Valid":"❌ Invalid"),console.log("Firebase config:",{apiKey:a.apiKey?"".concat(a.apiKey.substring(0,10),"..."):"Missing",authDomain:a.authDomain||"Missing",projectId:a.projectId||"Missing"});try{console.log("\uD83D\uDCF1 Opening Google OAuth popup...");let e=await (0,i.rh)(x,h);console.log("✅ Google OAuth successful"),console.log("User info:",{uid:e.user.uid,email:e.user.email,displayName:e.user.displayName}),console.log("\uD83D\uDD04 Getting fresh ID token...");let s=await e.user.getIdToken(!0);console.log("✅ Fresh ID token obtained"),console.log("Token preview:","".concat(s.substring(0,50),"..."));try{let e=JSON.parse(atob(s.split(".")[1]));if(console.log("\uD83D\uDD0D Token validation:",{aud:e.aud,iss:e.iss,projectMatch:e.aud===a.projectId,expectedProject:a.projectId}),e.aud!==a.projectId)throw console.error("❌ Token audience mismatch: token=".concat(e.aud,", config=").concat(a.projectId)),Error("Token audience does not match Firebase project configuration")}catch(e){console.warn("⚠️ Token validation failed:",e)}let t=o.env.NEXT_PUBLIC_API_BASE_URL||"https://ttprov5.onrender.com",n="".concat(t,"/api/auth/firebase");console.log("\uD83D\uDCE4 Sending to backend: ".concat(n));let r={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({idToken:s}),credentials:"include"};console.log("Request details:",{url:n,method:r.method,headers:{"Content-Type":r.headers["Content-Type"],Authorization:"Bearer ".concat(s.substring(0,20),"...")},bodyPreview:'{"idToken":"'.concat(s.substring(0,20),'..."}')});let l=await fetch(n,r);console.log("\uD83D\uDCE5 Backend response:",{status:l.status,statusText:l.statusText,ok:l.ok});let c=await l.text();if(console.log("Response body:",c),!l.ok)throw console.error("❌ Authentication failed"),Error("Auth failed (".concat(l.status,"): ").concat(c));let d=JSON.parse(c);console.log("✅ Authentication successful:",d),console.log("\uD83C\uDF6A Session cookie should now be set by the backend"),console.log("\uD83D\uDD0D Testing session status...");try{let e=await fetch("".concat(t,"/api/auth/session"),{method:"GET",credentials:"include"});if(!e.ok)return console.warn("⚠️ Session verification failed:",await e.text()),{...d,sessionVerified:!1};{let s=await e.json();return console.log("✅ Session verification successful:",s),{...d,sessionVerified:!0,sessionData:s}}}catch(e){return console.error("❌ Session verification error:",e),{...d,sessionVerified:!1}}}catch(e){throw console.error("❌ Authentication error:",e),e}},j=async()=>{try{let e=o.env.NEXT_PUBLIC_API_BASE_URL||"https://ttprov5.onrender.com",s=await fetch("".concat(e,"/api/auth/session"),{method:"GET",credentials:"include"});if(!s.ok)return console.log("ℹ️ No active session"),null;{let e=await s.json();return console.log("✅ Active session found:",e),e}}catch(e){return console.error("❌ Session check error:",e),null}},v=async()=>{try{let e=o.env.NEXT_PUBLIC_API_BASE_URL||"https://ttprov5.onrender.com";if((await fetch("".concat(e,"/api/auth/logout"),{method:"POST",credentials:"include"})).ok)return console.log("✅ Logged out successfully"),await (0,i.w7)(x),!0;return console.error("❌ Logout failed"),!1}catch(e){return console.error("❌ Logout error:",e),!1}};window.debugFirebaseConfig=()=>{console.log("\uD83D\uDD0D FIREBASE FRONTEND CONFIGURATION"),console.log("================================="),console.log("Environment Variables Status:"),Object.entries(a).forEach(e=>{let[s,t]=e,a=t&&"string"==typeof t?"".concat(t.substring(0,10),"..."):"undefined";console.log("  ".concat(s,": ").concat(t?"✅ SET":"❌ MISSING"," (").concat(a,")"))}),console.log("\nCritical Checks:"),console.log("  Project ID: ".concat(a.projectId||"MISSING")),console.log("  Auth Domain: ".concat(a.authDomain||"MISSING")),console.log("  API Key: ".concat(a.apiKey?"Present":"MISSING"));let e="titletesterpro",s=a.projectId===e;return console.log("  Project Match: ".concat(s?"✅ MATCH":"❌ MISMATCH"," (expected: ").concat(e,")")),console.log("  API Base URL: ".concat(o.env.NEXT_PUBLIC_API_BASE_URL||"Using default: https://ttprov5.onrender.com")),{config:a,environment:{NEXT_PUBLIC_FIREBASE_API_KEY:o.env.NEXT_PUBLIC_FIREBASE_API_KEY,NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:o.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,NEXT_PUBLIC_FIREBASE_PROJECT_ID:o.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,NEXT_PUBLIC_API_BASE_URL:o.env.NEXT_PUBLIC_API_BASE_URL},validation:{projectMatch:s,expectedProject:e,configValid:"missing-project"!==a.projectId}}},window.signInAndVerify=g,window.checkSession=j,window.logoutSession=v;let f=t(257).env.NEXT_PUBLIC_API_BASE_URL||"https://ttprov5.onrender.com";async function b(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="".concat(f).concat(e),a=await fetch(t,{credentials:"include",headers:{"Content-Type":"application/json",...s.headers},...s});if(!a.ok)throw Error((await a.json().catch(()=>({detail:"Network error"}))).detail||"HTTP error! status: ".concat(a.status));return a.json()}async function N(e){return b("/api/auth/firebase",{method:"POST",body:JSON.stringify({idToken:e})})}async function w(){return b("/api/campaigns")}async function y(){return b("/api/campaigns/kpis")}async function k(){return b("/api/campaigns/activity")}async function C(e){return b("/api/campaigns",{method:"POST",body:JSON.stringify(e)})}async function I(e){return b("/api/campaigns/".concat(e,"/pause"),{method:"POST"})}async function _(e){return b("/api/campaigns/".concat(e,"/resume"),{method:"POST"})}async function S(e){return b("/api/campaigns/".concat(e,"/stop"),{method:"POST"})}async function E(){return b("/api/youtube/channels")}async function L(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=new URLSearchParams;e.q&&s.append("q",e.q),e.page&&s.append("page",e.page);let t=s.toString();return b("/api/youtube/videos".concat(t?"?"+t:""))}async function T(){return b("/api/billing/portal",{method:"POST"})}async function A(){return b("/health")}function M(e){let{children:s}=e,[t,a]=(0,r.useState)(null),[l,o]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=(0,i.Aj)(x,async e=>{if(e)try{let s=await e.getIdToken();await N(s),a(e)}catch(e){console.error("Failed to authenticate with backend:",e)}else a(null);o(!1)});return()=>e()},[]);let u=async()=>{d(!0);try{await m()}catch(e){console.error("Failed to sign in:",e)}finally{d(!1)}};return l?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?(0,n.jsx)(n.Fragment,{children:s}):(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsx)("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-slate-100 max-w-md w-full mx-4",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-fuchsia-500 rounded-full mx-auto mb-6 flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-14 9V3z"})})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Welcome to TitleTesterPro"}),(0,n.jsx)("p",{className:"text-slate-500 mb-8",children:"Sign in with Google to access your dashboard"}),(0,n.jsxs)("button",{onClick:u,disabled:c,className:"w-full bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-medium hover:bg-gray-50 transition-colors flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):(0,n.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,n.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,n.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,n.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),c?"Signing in...":"Continue with Google"]})]})})})}var B=t(520),P=t(7200);function D(e){let{title:s,value:t,subtitle:a,icon:r}=e;return(0,n.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-medium text-slate-500 mb-1",children:s}),(0,n.jsx)("p",{className:"text-2xl font-bold text-slate-900",children:t}),a&&(0,n.jsx)("p",{className:"text-sm text-slate-400 mt-1",children:a})]}),r&&(0,n.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-fuchsia-50 rounded-xl",children:r})]})})}function R(){var e;let{data:s,error:t,isLoading:a}=(0,P.ZP)("campaign-kpis",y,{refreshInterval:3e4});return a?(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(e=>(0,n.jsx)("div",{className:"animate-pulse",children:(0,n.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("div",{className:"h-4 bg-slate-200 rounded w-20 mb-2"}),(0,n.jsx)("div",{className:"h-8 bg-slate-200 rounded w-16 mb-1"}),(0,n.jsx)("div",{className:"h-3 bg-slate-200 rounded w-12"})]}),(0,n.jsx)("div",{className:"w-12 h-12 bg-slate-200 rounded-xl"})]})})},e))}):t?(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,n.jsx)(D,{title:"Total Campaigns",value:"--",icon:(0,n.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,n.jsx)(D,{title:"Running Now",value:"--",icon:(0,n.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,n.jsx)(D,{title:"Titles Tested",value:"--",icon:(0,n.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,n.jsx)(D,{title:"Avg Lift",value:"--",icon:(0,n.jsx)("svg",{className:"w-6 h-6 text-fuchsia-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]}):(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,n.jsx)(D,{title:"Total Campaigns",value:(null==s?void 0:s.totalCampaigns)||0,subtitle:"All time",icon:(0,n.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,n.jsx)(D,{title:"Running Now",value:(null==s?void 0:s.runningNow)||0,subtitle:"Active campaigns",icon:(0,n.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,n.jsx)(D,{title:"Titles Tested",value:(null==s?void 0:s.titlesTested)||0,subtitle:"Total variants",icon:(0,n.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,n.jsx)(D,{title:"Avg Lift",value:null===(e=null==s?void 0:s.avgLift)?"--":"+".concat(e.toFixed(1),"%"),subtitle:"Performance boost",icon:(0,n.jsx)("svg",{className:"w-6 h-6 text-fuchsia-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})]})}var F=t(6952),U=t(7912),z=t(7735);function O(e){let{children:s,className:t=""}=e;return(0,n.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-6 md:p-8 ".concat(t),children:s})}function H(e){let{children:s,variant:t="default",className:a=""}=e;return(0,n.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat({default:"bg-slate-100 text-slate-700",success:"bg-green-100 text-green-700",warning:"bg-yellow-100 text-yellow-700",error:"bg-red-100 text-red-700",info:"bg-blue-100 text-blue-700"}[t]," ").concat(a),children:s})}function V(e){let{value:s,max:t=100,className:a=""}=e;return(0,n.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2 ".concat(a),children:(0,n.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-fuchsia-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(s/t*100,100),"%")}})})}function W(){let[e,s]=(0,r.useState)({}),{data:t,error:a,isLoading:i}=(0,P.ZP)("campaigns",w,{refreshInterval:15e3}),l=async(e,t)=>{s(s=>({...s,[e]:t}));try{switch(t){case"pause":await I(e);break;case"resume":await _(e);break;case"stop":await S(e)}await (0,F.j)("campaigns")}catch(e){console.error("Failed to ".concat(t," campaign:"),e)}finally{s(s=>{let t={...s};return delete t[e],t})}},o=e=>{let s=(0,U.c)(new Date(e),new Date);if(s<=0)return"Rotating now...";let t=Math.floor(s/60),a=s%60;return t>0?"".concat(t,"m ").concat(a,"s"):"".concat(a,"s")},c=e=>{let s=new Date,t=new Date(e.startedAt),a=new Date(e.endsAt).getTime()-t.getTime();return Math.min(Math.max((s.getTime()-t.getTime())/a*100,0),100)},d=e=>{switch(e){case"running":return(0,n.jsx)(H,{variant:"success",children:"Running"});case"paused":return(0,n.jsx)(H,{variant:"warning",children:"Paused"});case"stopped":return(0,n.jsx)(H,{variant:"error",children:"Stopped"});case"completed":return(0,n.jsx)(H,{variant:"info",children:"Completed"});default:return(0,n.jsx)(H,{children:e})}};return a?(0,n.jsx)(O,{children:(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("p",{className:"text-red-600",children:"Failed to load campaigns. Please try again."}),(0,n.jsx)(B.z,{variant:"outline",onClick:()=>(0,F.j)("campaigns"),className:"mt-4",children:"Retry"})]})}):i?(0,n.jsx)(O,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Live Campaigns"}),(0,n.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,n.jsx)("div",{className:"animate-pulse",children:(0,n.jsxs)("div",{className:"flex items-center space-x-4 p-4 border border-slate-200 rounded-xl",children:[(0,n.jsx)("div",{className:"flex space-x-2",children:[1,2,3].map(e=>(0,n.jsx)("div",{className:"w-16 h-12 bg-slate-200 rounded"},e))}),(0,n.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,n.jsx)("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),(0,n.jsx)("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]})]})},e))})]})}):t&&0!==t.length?(0,n.jsx)(O,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Live Campaigns"}),(0,n.jsx)("div",{className:"space-y-4",children:t.map(s=>(0,n.jsxs)("div",{className:"border border-slate-200 rounded-xl p-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[d(s.status),(0,n.jsxs)("span",{className:"text-sm text-slate-500",children:[s.videoIds.length," video",1!==s.videoIds.length?"s":""]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:["running"===s.status&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(B.z,{variant:"outline",size:"sm",onClick:()=>l(s.id,"pause"),disabled:"pause"===e[s.id],children:"pause"===e[s.id]?"Pausing...":"Pause"}),(0,n.jsx)(B.z,{variant:"outline",size:"sm",onClick:()=>l(s.id,"stop"),disabled:"stop"===e[s.id],children:"stop"===e[s.id]?"Stopping...":"Stop"})]}),"paused"===s.status&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(B.z,{variant:"outline",size:"sm",onClick:()=>l(s.id,"resume"),disabled:"resume"===e[s.id],children:"resume"===e[s.id]?"Resuming...":"Resume"}),(0,n.jsx)(B.z,{variant:"outline",size:"sm",onClick:()=>l(s.id,"stop"),disabled:"stop"===e[s.id],children:"stop"===e[s.id]?"Stopping...":"Stop"})]})]})]}),s.thumbnails&&s.thumbnails.length>0&&(0,n.jsxs)("div",{className:"flex space-x-2 mb-4",children:[s.thumbnails.slice(0,3).map((e,s)=>(0,n.jsx)("img",{src:e,alt:"Video ".concat(s+1),className:"w-16 h-12 rounded object-cover"},s)),s.thumbnails.length>3&&(0,n.jsxs)("div",{className:"w-16 h-12 bg-slate-100 rounded flex items-center justify-center text-xs text-slate-500",children:["+",s.thumbnails.length-3]})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Title Variants:"}),(0,n.jsx)("div",{className:"space-y-1",children:s.titles.map((e,s)=>(0,n.jsxs)("div",{className:"text-sm text-slate-600 bg-slate-50 px-3 py-1 rounded",children:[s+1,". ",e]},s))})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-slate-500",children:"Interval:"})," ",(0,n.jsxs)("span",{className:"font-medium",children:[s.intervalMinutes,"m"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"text-slate-500",children:"Duration:"})," ",(0,n.jsxs)("span",{className:"font-medium",children:[s.durationHours,"h"]})]})]}),"running"===s.status&&s.nextRotationAt&&(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,n.jsx)("span",{className:"text-slate-500",children:"Next rotation in:"}),(0,n.jsx)("span",{className:"font-mono font-medium text-blue-600",children:o(s.nextRotationAt)})]})}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,n.jsx)("span",{className:"text-slate-500",children:"Campaign Progress"}),(0,n.jsxs)("span",{className:"font-medium",children:[Math.round(c(s)),"%"]})]}),(0,n.jsx)(V,{value:c(s)})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[(0,n.jsxs)("span",{children:["Started: ",(0,z.WU)(new Date(s.startedAt),"MMM d, h:mm a")]}),(0,n.jsxs)("span",{children:["Ends: ",(0,z.WU)(new Date(s.endsAt),"MMM d, h:mm a")]})]})]},s.id))})]})}):(0,n.jsx)(O,{children:(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,n.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-2",children:"No Active Campaigns"}),(0,n.jsx)("p",{className:"text-slate-600",children:"Create your first A/B test campaign to get started."})]})})}var X=t(989);function G(){let{data:e,error:s,isLoading:t}=(0,P.ZP)("campaign-activity",k,{refreshInterval:3e4}),a=e=>{switch(e){case"campaign_created":return(0,n.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})});case"campaign_started":return(0,n.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M6 20l3-3m0 0l-3-3m3 3h12"})});case"campaign_paused":return(0,n.jsx)("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 9v6m4-6v6"})});case"campaign_resumed":return(0,n.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15"})});case"campaign_stopped":return(0,n.jsxs)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10h6v4H9z"})]});case"title_rotated":return(0,n.jsx)("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})});case"campaign_completed":return(0,n.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return(0,n.jsx)("svg",{className:"w-4 h-4 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},r=e=>{switch(e){case"campaign_created":return(0,n.jsx)(H,{variant:"info",children:"Created"});case"campaign_started":return(0,n.jsx)(H,{variant:"success",children:"Started"});case"campaign_paused":return(0,n.jsx)(H,{variant:"warning",children:"Paused"});case"campaign_resumed":return(0,n.jsx)(H,{variant:"success",children:"Resumed"});case"campaign_stopped":return(0,n.jsx)(H,{variant:"error",children:"Stopped"});case"title_rotated":return(0,n.jsx)(H,{variant:"info",children:"Rotated"});case"campaign_completed":return(0,n.jsx)(H,{variant:"success",children:"Completed"});default:return(0,n.jsx)(H,{children:e})}};return t?(0,n.jsx)(O,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Activity Feed"}),(0,n.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(e=>(0,n.jsxs)("div",{className:"animate-pulse flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-slate-200 rounded-full flex-shrink-0"}),(0,n.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,n.jsx)("div",{className:"h-4 bg-slate-200 rounded w-3/4"}),(0,n.jsx)("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]})]},e))})]})}):s?(0,n.jsx)(O,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Activity Feed"}),(0,n.jsx)("div",{className:"text-center py-8",children:(0,n.jsx)("p",{className:"text-red-600",children:"Failed to load activity feed."})})]})}):e&&0!==e.length?(0,n.jsx)(O,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Activity Feed"}),(0,n.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:e.map(e=>(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center",children:a(e.type)}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[r(e.type),(0,n.jsx)("span",{className:"text-xs text-slate-500",children:(0,X.Q)(new Date(e.timestamp),{addSuffix:!0})})]}),(0,n.jsx)("p",{className:"text-sm text-slate-700",children:e.message}),e.metadata&&(0,n.jsx)("div",{className:"mt-2",children:Object.entries(e.metadata).map(e=>{let[s,t]=e;return(0,n.jsxs)("div",{className:"text-xs text-slate-500",children:[(0,n.jsxs)("span",{className:"font-medium",children:[s,":"]})," ",String(t)]},s)})})]})]},e.id))})]})}):(0,n.jsx)(O,{children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Activity Feed"}),(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-slate-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,n.jsx)("p",{className:"text-slate-600",children:"No recent activity"})]})]})})}function K(){let[e,s]=(0,r.useState)("healthy"),[t,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let e=async()=>{try{let e=await A();s("healthy"===e.status?"healthy":"degraded"),a(new Date)}catch(e){s("down"),a(new Date)}};e();let t=setInterval(e,15e3);return()=>clearInterval(t)},[]),(0,n.jsxs)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat((()=>{switch(e){case"healthy":return"bg-green-100 text-green-800";case"degraded":return"bg-yellow-100 text-yellow-800";case"down":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})()),children:[(0,n.jsx)("div",{className:"w-2 h-2 rounded-full mr-2 ".concat((()=>{switch(e){case"healthy":return"bg-green-500";case"degraded":return"bg-yellow-500";case"down":return"bg-red-500";default:return"bg-gray-500"}})())}),(0,n.jsx)("span",{className:"capitalize",children:e})]})}function J(){let[e,s]=(0,r.useState)(!1),t=async()=>{s(!0);try{let{url:e}=await T();window.location.href=e}catch(e){console.error("Failed to open billing portal:",e)}finally{s(!1)}};return(0,n.jsxs)(B.z,{variant:"outline",onClick:t,disabled:e,className:"flex items-center space-x-2",children:[(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),(0,n.jsx)("span",{children:e?"Opening...":"Manage Billing"})]})}function Y(e){let{isOpen:s,onClose:t,children:a,title:i}=e;return((0,r.useEffect)(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),s)?(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:t}),(0,n.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-xl border border-slate-100 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i&&(0,n.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-100",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:i}),(0,n.jsx)("button",{onClick:t,className:"text-slate-400 hover:text-slate-600",children:(0,n.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,n.jsx)("div",{className:i?"p-6":"p-8",children:a})]})]}):null}function q(e){let{onSelectionChange:s}=e,[t,a]=(0,r.useState)(""),[i,l]=(0,r.useState)([]),[o,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),{data:x,error:h}=(0,P.ZP)("youtube-channels",E),{data:m,error:p}=(0,P.ZP)(t?["youtube-videos",o,d]:null,()=>L({q:o,page:d})),g=(null==m?void 0:m.items)||[],j=null==m?void 0:m.nextPageToken;(0,r.useEffect)(()=>{s({channelId:t,videoIds:i})},[t,i,s]);let v=e=>{a(e),l([]),u("")},f=e=>{l(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return h?(0,n.jsx)(O,{children:(0,n.jsx)("div",{className:"text-center py-8",children:(0,n.jsx)("p",{className:"text-red-600",children:"Failed to load YouTube channels. Please try again."})})}):(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)(O,{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Select YouTube Channel"}),x?(0,n.jsx)("div",{className:"space-y-3",children:x.map(e=>(0,n.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-xl cursor-pointer transition-colors ".concat(t===e.id?"bg-blue-50 border border-blue-200":"hover:bg-slate-50"),onClick:()=>v(e.id),children:[(0,n.jsx)("input",{type:"radio",checked:t===e.id,onChange:()=>v(e.id),className:"text-blue-600"}),e.thumbnail&&(0,n.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-12 h-12 rounded-full object-cover"}),(0,n.jsx)("span",{className:"font-medium text-slate-900",children:e.title})]},e.id))}):(0,n.jsx)("div",{className:"animate-pulse space-y-3",children:[1,2,3].map(e=>(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-slate-200 rounded-full"}),(0,n.jsx)("div",{className:"flex-1 h-4 bg-slate-200 rounded"})]},e))})]}),t&&(0,n.jsxs)(O,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-slate-900",children:"Select Videos"}),(0,n.jsxs)("span",{className:"text-sm text-slate-500",children:[i.length," selected"]})]}),(0,n.jsx)("form",{onSubmit:e=>{e.preventDefault(),u("")},className:"mb-4",children:(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Search videos...",className:"flex-1 px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,n.jsx)(B.z,{type:"submit",variant:"outline",children:"Search"})]})}),p?(0,n.jsx)("div",{className:"text-center py-8",children:(0,n.jsx)("p",{className:"text-red-600",children:"Failed to load videos. Please try again."})}):g.length?(0,n.jsxs)("div",{className:"space-y-3",children:[g.map(e=>(0,n.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-xl cursor-pointer transition-colors ".concat(i.includes(e.id)?"bg-blue-50 border border-blue-200":"hover:bg-slate-50"),onClick:()=>f(e.id),children:[(0,n.jsx)("input",{type:"checkbox",checked:i.includes(e.id),onChange:()=>f(e.id),className:"text-blue-600"}),e.thumbnail&&(0,n.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-24 h-16 rounded object-cover"}),(0,n.jsx)("span",{className:"flex-1 text-sm font-medium text-slate-900 line-clamp-2",children:e.title})]},e.id)),j&&(0,n.jsx)("div",{className:"text-center pt-4",children:(0,n.jsx)(B.z,{variant:"outline",onClick:()=>{u(j)},children:"Load More Videos"})})]}):(0,n.jsx)("div",{className:"animate-pulse space-y-3",children:[1,2,3].map(e=>(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-4 h-4 bg-slate-200 rounded"}),(0,n.jsx)("div",{className:"w-24 h-16 bg-slate-200 rounded"}),(0,n.jsx)("div",{className:"flex-1 h-4 bg-slate-200 rounded"})]},e))})]})]})}function Z(e){let{isOpen:s,onClose:t}=e,[a,i]=(0,r.useState)(1),[l,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(null),[u,x]=(0,r.useState)({channelId:"",videoIds:[],titles:[""],intervalMinutes:60,durationHours:24}),h=()=>{l||(i(1),x({channelId:"",videoIds:[],titles:[""],intervalMinutes:60,durationHours:24}),d(null),t())},m=e=>{x(s=>({...s,channelId:e.channelId,videoIds:e.videoIds}))},p=()=>{u.titles.length<5&&x(e=>({...e,titles:[...e.titles,""]}))},g=e=>{u.titles.length>1&&x(s=>({...s,titles:s.titles.filter((s,t)=>t!==e)}))},j=(e,s)=>{x(t=>({...t,titles:t.titles.map((t,a)=>a===e?s:t)}))},v=u.channelId&&u.videoIds.length>0,f=u.titles.every(e=>e.trim().length>0),b=async()=>{o(!0),d(null);try{await C(u),await (0,F.j)("campaigns"),h()}catch(e){d(e instanceof Error?e.message:"Failed to create campaign")}finally{o(!1)}};return(0,n.jsx)(Y,{isOpen:s,onClose:h,title:"Create New Campaign",children:(0,n.jsxs)("div",{className:"min-h-[400px]",children:[(0,n.jsx)("div",{className:"flex items-center mb-8",children:[1,2,3].map(e=>(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(e<=a?"bg-blue-600 text-white":"bg-slate-200 text-slate-500"),children:e}),e<3&&(0,n.jsx)("div",{className:"w-12 h-1 mx-2 ".concat(e<a?"bg-blue-600":"bg-slate-200")})]},e))}),(0,n.jsx)("div",{className:"mb-8",children:(()=>{switch(a){case 1:return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"text-center mb-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Select Content"}),(0,n.jsx)("p",{className:"text-slate-600",children:"Choose your YouTube channel and videos to test"})]}),(0,n.jsx)(q,{onSelectionChange:m})]});case 2:return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"text-center mb-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Title Variants"}),(0,n.jsx)("p",{className:"text-slate-600",children:"Create 1-5 title variations to test"})]}),(0,n.jsx)("div",{className:"space-y-3",children:u.titles.map((e,s)=>(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Title ",s+1]}),(0,n.jsx)("input",{type:"text",value:e,onChange:e=>j(s,e.target.value),placeholder:"Enter title variant ".concat(s+1),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),u.titles.length>1&&(0,n.jsx)("button",{type:"button",onClick:()=>g(s),className:"mt-6 p-2 text-red-500 hover:text-red-700",children:(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},s))}),u.titles.length<5&&(0,n.jsxs)("button",{type:"button",onClick:p,className:"w-full px-4 py-2 border-2 border-dashed border-slate-300 rounded-lg text-slate-600 hover:border-slate-400 hover:text-slate-700 transition-colors",children:["+ Add Title Variant (",u.titles.length,"/5)"]})]});case 3:return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"text-center mb-6",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Schedule Settings"}),(0,n.jsx)("p",{className:"text-slate-600",children:"Configure rotation interval and campaign duration"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Rotation Interval"}),(0,n.jsxs)("select",{value:u.intervalMinutes,onChange:e=>x(s=>({...s,intervalMinutes:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,n.jsx)("option",{value:30,children:"Every 30 minutes"}),(0,n.jsx)("option",{value:60,children:"Every hour"}),(0,n.jsx)("option",{value:120,children:"Every 2 hours"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign Duration"}),(0,n.jsxs)("select",{value:u.durationHours,onChange:e=>x(s=>({...s,durationHours:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,n.jsx)("option",{value:24,children:"24 hours"}),(0,n.jsx)("option",{value:48,children:"48 hours"}),(0,n.jsx)("option",{value:72,children:"72 hours"})]})]})]}),(0,n.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4",children:[(0,n.jsx)("h4",{className:"font-medium text-slate-900 mb-2",children:"Campaign Summary"}),(0,n.jsxs)("div",{className:"text-sm text-slate-600 space-y-1",children:[(0,n.jsxs)("p",{children:["• ",u.videoIds.length," video(s) selected"]}),(0,n.jsxs)("p",{children:["• ",u.titles.length," title variant(s)"]}),(0,n.jsxs)("p",{children:["• Rotate every ",u.intervalMinutes," minutes"]}),(0,n.jsxs)("p",{children:["• Run for ",u.durationHours," hours"]})]})]})]});default:return null}})()}),c&&(0,n.jsx)("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:c}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("div",{children:a>1&&(0,n.jsx)(B.z,{variant:"outline",onClick:()=>{a>1&&(i(e=>e-1),d(null))},disabled:l,children:"Previous"})}),(0,n.jsxs)("div",{className:"space-x-2",children:[(0,n.jsx)(B.z,{variant:"outline",onClick:h,disabled:l,children:"Cancel"}),a<3?(0,n.jsx)(B.z,{onClick:()=>{a<3&&(i(e=>e+1),d(null))},disabled:1===a&&!v||2===a&&!f,children:"Next"}):(0,n.jsx)(B.z,{onClick:b,disabled:l,children:l?"Creating...":"Create Campaign"})]})]})]})})}function Q(){let[e,s]=(0,r.useState)(!1),t=x.currentUser,a=async()=>{try{await p()}catch(e){console.error("Failed to sign out:",e)}};return(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsxs)("header",{className:"bg-white border-b border-slate-200",children:[(0,n.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-fuchsia-500 h-1"}),(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-fuchsia-600 rounded-lg flex items-center justify-center",children:(0,n.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3l14 9-14 9V3z"})})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-lg font-semibold text-slate-900",children:"TitleTesterPro"}),(0,n.jsx)("p",{className:"text-xs text-slate-500",children:"Dashboard v5.0"})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)(K,{}),t&&(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsx)("img",{src:t.photoURL||"/default-avatar.png",alt:t.displayName||"User",className:"w-8 h-8 rounded-full"}),(0,n.jsx)("span",{className:"text-sm font-medium text-slate-700 hidden sm:block",children:t.displayName})]}),(0,n.jsx)(B.z,{variant:"outline",size:"sm",onClick:a,children:"Sign Out"})]})]})})]}),(0,n.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsx)(R,{})}),(0,n.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:"Campaigns"}),(0,n.jsx)("p",{className:"text-slate-600",children:"Manage your A/B testing campaigns"})]}),(0,n.jsxs)(B.z,{onClick:()=>s(!0),className:"flex items-center space-x-2",children:[(0,n.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,n.jsx)("span",{children:"New Campaign"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,n.jsx)("div",{className:"lg:col-span-2",children:(0,n.jsx)(W,{})}),(0,n.jsx)("div",{className:"lg:col-span-1",children:(0,n.jsx)(G,{})})]})]}),(0,n.jsx)("footer",{className:"bg-white border-t border-slate-200 mt-12",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,n.jsx)(J,{}),(0,n.jsx)("span",{className:"text-xs text-slate-500",children:"v5.0"})]}),(0,n.jsx)("div",{className:"text-xs text-slate-500",children:"\xa9 2024 TitleTesterPro. All rights reserved."})]})})}),(0,n.jsx)(Z,{isOpen:e,onClose:()=>s(!1)})]})}function $(){return(0,n.jsx)(M,{children:(0,n.jsx)(Q,{})})}},520:function(e,s,t){"use strict";t.d(s,{z:function(){return d}});var a=t(7437),n=t(2265),r=t(5293),i=t(535),l=t(1994),o=t(3335);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,s)=>{let{className:t,variant:n,size:i,asChild:d=!1,...u}=e,x=d?r.g7:"button";return(0,a.jsx)(x,{className:function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,o.m6)((0,l.W)(s))}(c({variant:n,size:i,className:t})),ref:s,...u})});d.displayName="Button"}},function(e){e.O(0,[15,50,620,971,117,744],function(){return e(e.s=7407)}),_N_E=e.O()}]);